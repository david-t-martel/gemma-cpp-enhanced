# Configuration for cbindgen to generate C bindings

language = "C"
header = "/* C bindings for RAG Redis System - Generated by cbindgen */"
include_guard = "RAG_REDIS_FFI_H"
autogen_warning = "/* Warning: This file is automatically generated. Do not edit manually! */"
tab_width = 4
line_length = 100

includes = ["stdint.h", "stdbool.h", "stddef.h"]

[parse]
parse_deps = true
include = ["rag-redis-system"]
extra_bindings = ["rag-redis-system"]

[export]
prefix = "Rag"
item_types = ["globals", "enums", "structs", "unions", "typedefs", "opaque", "functions", "constants"]
renaming_overrides_prefixing = true

[export.rename]
# Rename types to be more C-friendly
"RagHandle" = "rag_handle_t"
"RagConfig" = "rag_config_t"
"RagSearchResult" = "rag_search_result_t"
"RagSearchResults" = "rag_search_results_t"
"RagErrorInfo" = "rag_error_info_t"
"ErrorCode" = "rag_error_code_t"

[fn]
prefix = "rag_"
postfix = ""
args = "auto"
sort_by = "Name"
rename_args = "GeckoCase"

[struct]
rename_fields = "GeckoCase"
must_use = "GeckoCase"
derive_constructor = true
derive_eq = false
derive_neq = false

[enum]
rename_variants = "ScreamingSnakeCase"
prefix_with_name = true
derive_helper_methods = true
derive_const_casts = true
cast_assert_name = "ASSERT"

[const]
allow_static_const = true
sort_by = "Name"

[macro_expansion]
bitflags = true

# Documentation settings
[documentation]
style = "doxy"
tab_width = 4
