# RAG-Redis MCP Server - Production Environment Configuration

# Logging
RUST_LOG=info
RUST_BACKTRACE=0

# Server Configuration
MCP_SERVER_HOST=0.0.0.0
MCP_SERVER_PORT=8080

# Redis Configuration
REDIS_URL=redis://127.0.0.1:6379
REDIS_MAX_CONNECTIONS=20
REDIS_CONNECTION_TIMEOUT=10

# Data Directories
RAG_DATA_DIR=/var/lib/rag-redis/data
EMBEDDING_CACHE_DIR=/var/lib/rag-redis/cache
LOG_DIR=/var/log/rag-redis

# Performance Configuration (Production Optimized)
VECTOR_BATCH_SIZE=100
MEMORY_CONSOLIDATION_INTERVAL=300
EMBEDDING_MODEL=all-MiniLM-L6-v2

# Feature Flags
ENABLE_METRICS=true
ENABLE_TRACING=false
ENABLE_DEBUG_ENDPOINTS=false

# API Keys (Set via environment variables or secrets management)
ANTHROPIC_API_KEY=${ANTHROPIC_API_KEY}
PERPLEXITY_API_KEY=${PERPLEXITY_API_KEY}
OPENAI_API_KEY=${OPENAI_API_KEY}

# Production Security Settings
AUTO_RELOAD=false
CORS_ALLOW_ORIGIN=
REQUEST_TIMEOUT=60

# Memory Tier Configuration (Production Scale)
WORKING_MEMORY_SIZE=100
SHORT_TERM_MEMORY_SIZE=1000
LONG_TERM_MEMORY_SIZE=10000
EPISODIC_MEMORY_SIZE=5000
SEMANTIC_MEMORY_SIZE=50000

# Vector Store Configuration
VECTOR_DIMENSION=384
HNSW_M=16
HNSW_EF_CONSTRUCTION=200
HNSW_EF_SEARCH=50

# Document Processing
MAX_DOCUMENT_SIZE_MB=50
CHUNK_SIZE=512
CHUNK_OVERLAP=50
TEXT_SPLITTER=recursive

# Rate Limiting (Strict for production)
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

# Health Check Configuration
HEALTH_CHECK_INTERVAL=60
HEALTH_CHECK_TIMEOUT=30

# Performance Tuning
WORKER_THREADS=4
BLOCKING_THREADS=8
STACK_SIZE=2097152

# Security Configuration
MAX_REQUEST_SIZE=10485760
CONNECTION_IDLE_TIMEOUT=300
KEEP_ALIVE_TIMEOUT=5

# Monitoring
METRICS_PORT=9090
PROMETHEUS_NAMESPACE=rag_redis
ENABLE_SYSTEM_METRICS=true

# Backup and Recovery
BACKUP_INTERVAL=3600
BACKUP_RETENTION_DAYS=30
ENABLE_AUTO_BACKUP=true