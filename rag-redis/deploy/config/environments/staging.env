# RAG-Redis MCP Server - Staging Environment Configuration

# Logging
RUST_LOG=info
RUST_BACKTRACE=1

# Server Configuration
MCP_SERVER_HOST=0.0.0.0
MCP_SERVER_PORT=8080

# Redis Configuration
REDIS_URL=redis://127.0.0.1:6379
REDIS_MAX_CONNECTIONS=10
REDIS_CONNECTION_TIMEOUT=10

# Data Directories
RAG_DATA_DIR=/var/lib/rag-redis-staging/data
EMBEDDING_CACHE_DIR=/var/lib/rag-redis-staging/cache
LOG_DIR=/var/log/rag-redis-staging

# Performance Configuration (Staging)
VECTOR_BATCH_SIZE=75
MEMORY_CONSOLIDATION_INTERVAL=450
EMBEDDING_MODEL=all-MiniLM-L6-v2

# Feature Flags
ENABLE_METRICS=true
ENABLE_TRACING=true
ENABLE_DEBUG_ENDPOINTS=true

# API Keys (Use staging/test credentials)
ANTHROPIC_API_KEY=${ANTHROPIC_API_KEY_STAGING}
PERPLEXITY_API_KEY=${PERPLEXITY_API_KEY_STAGING}
OPENAI_API_KEY=${OPENAI_API_KEY_STAGING}

# Staging Settings
AUTO_RELOAD=false
CORS_ALLOW_ORIGIN=*.staging.example.com
REQUEST_TIMEOUT=45

# Memory Tier Configuration (Staging Scale)
WORKING_MEMORY_SIZE=75
SHORT_TERM_MEMORY_SIZE=750
LONG_TERM_MEMORY_SIZE=7500
EPISODIC_MEMORY_SIZE=3750
SEMANTIC_MEMORY_SIZE=37500

# Vector Store Configuration
VECTOR_DIMENSION=384
HNSW_M=16
HNSW_EF_CONSTRUCTION=200
HNSW_EF_SEARCH=50

# Document Processing
MAX_DOCUMENT_SIZE_MB=25
CHUNK_SIZE=512
CHUNK_OVERLAP=50
TEXT_SPLITTER=recursive

# Rate Limiting (Moderate for staging)
RATE_LIMIT_REQUESTS=200
RATE_LIMIT_WINDOW=60

# Health Check Configuration
HEALTH_CHECK_INTERVAL=45
HEALTH_CHECK_TIMEOUT=20

# Performance Tuning
WORKER_THREADS=2
BLOCKING_THREADS=4
STACK_SIZE=2097152

# Security Configuration
MAX_REQUEST_SIZE=10485760
CONNECTION_IDLE_TIMEOUT=300
KEEP_ALIVE_TIMEOUT=5

# Monitoring
METRICS_PORT=9090
PROMETHEUS_NAMESPACE=rag_redis_staging
ENABLE_SYSTEM_METRICS=true

# Testing Configuration
ENABLE_TEST_ENDPOINTS=true
TEST_DATA_CLEANUP=true
MOCK_EXTERNAL_APIS=false